<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Oda GiriÅŸi - Matematik Oyunu</title>
<style>
  :root {
    --bg:#0f1216; --panel:#161a20; --text:#e8edf3;
    --muted:#9aa6b2; --accent:#3b82f6; --ok:#22c55e; --warn:#eab308; --ring:#263043;
    --card:#1b2027; --border:#2a3240;
  }
  *{box-sizing:border-box}
  body{
    font-family: Inter, system-ui, Arial, sans-serif;
    margin:0; background:var(--bg); color:var(--text);
    min-height:100dvh; display:grid; place-items:center; padding:24px;
  }
  .wrap{width:100%; max-width:720px}
  h2{margin:8px 0 16px; text-align:center; letter-spacing:.3px}
  .panel{
    background:var(--panel); border:1px solid var(--border);
    border-radius:14px; padding:18px; box-shadow:0 6px 24px rgba(0,0,0,.35);
  }
  input, button{
    width:100%; padding:12px 14px; border-radius:10px; border:1px solid var(--border);
    background:#0f141b; color:var(--text); outline:none;
  }
  input::placeholder{color:var(--muted)}
  input:focus{border-color:var(--accent); box-shadow:0 0 0 4px rgba(59,130,246,.15)}
  button{
    background:linear-gradient(180deg,#3b82f6,#2563eb); border:none; font-weight:600;
    letter-spacing:.2px; cursor:pointer;
  }
  button:hover{filter:brightness(1.05)}
  #roomList{margin-top:16px; display:grid; gap:10px}
  .room{
    background:var(--card); border:1px solid var(--border); padding:12px 14px;
    border-radius:12px; display:flex; justify-content:space-between; align-items:center;
    cursor:pointer; transition:transform .08s ease, background .2s;
  }
  .room:hover{transform:translateY(-1px); background:#202633}
  .status{font-size:12px; color:var(--muted)}
</style>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <h2>Matematik Oyunu</h2>
  <input id="name" placeholder="KullanÄ±cÄ± adÄ±nÄ±z" />
  <input id="room" placeholder="Oda adÄ± (yeni veya var olan)" />
  <button id="join">Odaya KatÄ±l</button>

  <div id="roomList"></div>

  <script>
    const socket = io();

    document.getElementById('join').onclick = () => {
      const name = document.getElementById('name').value.trim();
      const room = document.getElementById('room').value.trim();
      if (name && room) {
        window.location.href = `/game.html?room=${encodeURIComponent(room)}&name=${encodeURIComponent(name)}`;
      }
    };

    socket.emit('getRooms');
    socket.on('roomList', rooms => {
      const list = document.getElementById('roomList');
      list.innerHTML = '<h3>Mevcut Odalar</h3>';
      div.innerHTML = `<div><strong>${r.name}</strong> <span class="status">(${r.userCount} oyuncu)</span></div>
                 <div class="status">${status}</div>`;
div.onclick = () => {
  const name = document.getElementById('name').value.trim() || prompt('KullanÄ±cÄ± adÄ±nÄ±z');
  if (name) window.location.href = `/game.html?room=${encodeURIComponent(r.name)}&name=${encodeURIComponent(name)}`;
};
        div.className = 'room';
        let status = r.inGame ? 'ðŸŸ¢ OynanÄ±yor' : r.isWaiting ? 'ðŸŸ¡ Bekliyor' : 'ðŸ”µ HazÄ±r';
        div.textContent = `${r.name} (${r.userCount} oyuncu) - ${status}`;
        div.onclick = () => {
          const name = prompt('KullanÄ±cÄ± adÄ±nÄ±z');
          if (name) {
            window.location.href = `/game.html?room=${encodeURIComponent(r.name)}&name=${encodeURIComponent(name)}`;
          }
        };
        list.appendChild(div);
      });
    });
  </script>
</body>
</html>
